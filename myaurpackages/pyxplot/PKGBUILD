# Maintainer: Gergely Imreh <imrehg(at)gmail(dot)com>
pkgname=pyxplot
pkgver=0.8.2
pkgrel=1
pkgdesc="PyXPlot is a command-line graphing package with a simple interface that produces publication-quality output."
arch=('i686' 'x86_64')
license=('GPL2')
url="http://www.pyxplot.org.uk/"
provides=('pyxplot')
depends=('texlive-core' 'imagemagick')
optdepends=('python-scipy: mathematical functions'
	    'python-numpy: mathematical functions'
            'fftw: fitting'
            'gsl: fitting'
            'gv:for the X11 terminal'
            'ggv: PostScript fileds'
            'cfitsio: reading and writing FITS data')
source=("http://www.pyxplot.org.uk/src/${pkgname}_${pkgver}.tar.gz"
	configure.patch)
build() {
  cd ${srcdir}/${pkgname}-${pkgver}

  # Patch to fix compilation error as of 0.8.2
  # - remove linking to ltermcap (depreciated in arch?)
  # - remove lkpathsea linkin (does not work in arch's version)
  patch -p0 < ../configure.patch

  ./configure --prefix=/usr
  make || return 1
  mkdir ${pkgdir}/usr
  make USRDIR="${pkgdir}/usr" MANDIR="${pkgdir}/usr/share/man/man1" install || return 1
}
md5sums=('895e96d210db56e650ea4e586ad4a9ce'
         'd2f0adc4347d660b99eb96f5ff4ec47d')
