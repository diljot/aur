# Maintainer: Gergely Imreh <imrehgATgmailDOTcom>
# Contributor: Eric Belanger <eric@archlinux.org>

pkgname=plplot
pkgver=5.9.2
pkgrel=1
pkgdesc="A cross-platform software package for creating scientific plots"
arch=('i686' 'x86_64')
url="http://plplot.sourceforge.net/"
license=("LGPL" "custom")
depends=('gd' 'libtool')
makedepends=('cmake')
optdepends=('qhull : calculating convex hulls'
            'agg : high quality rendering engine in C++' 
            'swig : connects Plplot C library to Python, Java and Lua'
            'qt : display plots, output various formats  using the Qt UI framework'
            'wxgtk : displays plots using wxWidgets library'
            'freetype2 : enables use of ttf fonts for some drivers')
options=('!libtool' '!makeflags')
source=(http://downloads.sourceforge.net/sourceforge/plplot/${pkgname}-${pkgver}.tar.gz)
md5sums=('2a14753112083badab87f1806cc12a46')
build() {
  cd ${srcdir}/${pkgname}-${pkgver}
  cmake -DCMAKE_INSTALL_PREFIX=/usr -DENABLE_octave=off -DENABLE_tcl=ON -DENABLE_tk=ON || return 1
  make || return 1
  make DESTDIR=${pkgdir} install
  install -D -m644 Copyright ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE
}
